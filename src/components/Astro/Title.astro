---
/* Component for rendering page titles with optional logo.
 *
 * Props:
 * - title: string - Main title text
 * - showTitleBackground: boolean - Enable background styling
 * - logoPath?: string - Optional path to logo from public folder (e.g., "/apple-touch-icon.png")
 * - forceLogoOnMobile?: boolean - Show logo on mobile devices
 * - class?: string - Additional CSS classes
 *
 * Example usage:
 * <Title
 *   title="Welcome to Our Site"
 *   showTitleBackground={true}
 *   logoPath="/apple-touch-icon.png"
 *   class="my-title"
 * />
 *
 * Notes:
 * - Two visual style variants
 * - Optimized logo display with circular border
 * - Responsive layout
 * - Theme-based borders
 * - Flexible width
 */

interface Props {
  // Main title text //
  title: string;
  // Controls the title's visual style and background //
  showTitleBackground: boolean;
  // Optional path to logo image from public folder //
  logoPath?: string;
  // force logo on mobile //
  forceLogoOnMobile?: boolean;
  // Optional CSS classes //
  class?: string | undefined;
}

const {
  title,
  showTitleBackground,
  class: className,
  logoPath,
  forceLogoOnMobile,
} = Astro.props;

const options = {
  "rounded-theme": true,
};
---

<div
  class:list={[
    "flex border-b-8 border-t-8 my-0 py-0",
    {
      "border-none": !showTitleBackground,
      "border-theme-secondary": showTitleBackground,
    },
    options,
    // "rounded-t-none",
  ]}
>
  <div class="flex flex-row items-center justify-center w-full my-0">
    <h1
      class:list={[
        "w-full py-0 mx-0",
        {
          "is-title-alt leading-none py-5 text-center": showTitleBackground,
          "is-title p-0": !showTitleBackground,
        },
        className,
      ]}
    >
      {!logoPath && title}

      {
        logoPath && (
          <span class="flex items-center justify-center w-full">
            <span
              class:list={[
                "rounded-full border-2 border-theme-accent overflow-hidden ml-4 sm:inline-block sm:mr-6 sm:ml-0",
                { hidden: !forceLogoOnMobile },
              ]}
            >
              <img
                src={logoPath}
                alt="MyBonzo Logo"
                width="64"
                height="64"
                class="w-full h-full object-cover"
              />
            </span>
            {title}
          </span>
        )
      }
    </h1>
  </div>
</div>
