---
import { getCollection } from "astro:content";
import Post from "@layouts/Post.astro";

export async function getStaticPaths() {
	const posts = await getCollection("blog");
	return posts.map((post) => ({
		params: { slug: post.id },
		props: {
			postId: post.id,
			collectionName: "blog",
			tags: post.data.tags,
		},
	}));
}

const props = Astro.props;
---

<Post postId={props.postId} collectionName="blog" tags={props.tags} />
